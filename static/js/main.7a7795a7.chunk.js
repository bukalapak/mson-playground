(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,n,t){},217:function(e,n,t){},220:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(17),c=t.n(o),i=(t(78),t(11)),u=t(60),s=t.n(u),l=t(10),d=t(61),p=t.n(d),m=t(62),f=t.n(m),h=t(14),g=t(29),b=t(63),v=t.n(b),E=t(64),w=t.n(E),y=t(65),S=t.n(y),j=t(66),x=t(34),O=(t(106),t(107),t(108),function(e){var n=e.code,t=void 0===n?"":n,a=e.onValueChange,o=e.height,c=void 0===o?350:o;return r.a.createElement(j.Scrollbars,{style:{height:c}},r.a.createElement(S.a,{value:t,onValueChange:a,highlight:function(e){return Object(x.highlight)(e,x.languages.markdown)},padding:10,className:"react-simple-code-editor"}))}),k=t(18),A=t.n(k),C=t(35),P=t(67),B=t.n(P),N=t(68),W=t.n(N),D=t(69),M=t.n(D),V=t(33),I=t.n(V),J=W.a.namespace().use(M.a).use(I.a);function R(e,n){return T.apply(this,arguments)}function T(){return(T=Object(C.a)(A.a.mark(function e(n,t){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,a){B.a.parse(n,t,function(n,t){return n?a(n):e(t)})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var q=function(e){var n=e.dataStructure,t=e.mson;return"\n# GET /\n\n+ Response 200 (application/json)\n    + Attributes (object)\n        ".concat(function(e){return e.split("\n").map(function(e,n){return 0===n?e:" ".repeat(8)+e}).join("\n")}(t),"\n\n# Data Structures\n\n").concat(n,"\n  ")},L=function(){var e=Object(C.a)(A.a.mark(function e(n){var t,a,r,o,c,i;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(n);case 2:if(t=e.sent,a=J.fromRefract(t),0===(r=a.annotations.toValue()).length){e.next=7;break}return e.abrupt("return",{annotations:r});case 7:if(o=a.api.resources.get(0)){e.next=10;break}return e.abrupt("return",{});case 10:return c=o.transitions.get(0).transactions.get(0).response.messageBody.toValue(),i=o.transitions.get(0).transactions.get(0).response.messageBodySchema.toValue(),e.abrupt("return",{body:JSON.parse(c),schema:JSON.parse(i)});case 13:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),F=[{label:"Example #1",dataStructure:"\n## Person A\n\n+ name: `Jack` (string, required)\n+ age: 54 (number)\n\n## Person B\n\n+ name: `Mark` (string, required)\n+ age: 34 (number)\n+ partners (array, fixed-type)\n  + (object)\n      + Include Person A\n  ",mson:"\n+ people (array, fixed-type, required)\n  + (object)\n      + Include Person A\n  + (object)\n      + Include Person B\n  "},{label:"Example #2",dataStructure:"",mson:"\n+ say (object, required)\n  + hello: `world!` (string, required)\n  "},{label:"Example #3",dataStructure:"\n# Address (object)\n\nDescription is here! Properties to follow.\n\n## Properties\n\n- street\n- state\n- zip\n  ",mson:"\n- address (Address)\n  "}],U=F.map(function(e,n){return{label:e.label,value:n}}),z=F,H=(t(217),function(e){var n=e.source,t=e.displayDataTypes,a=void 0!==t&&t;return r.a.createElement(s.a,{src:n,enableClipboard:!1,name:!1,theme:"monokai",displayDataTypes:a,style:{fontSize:14,fontFamily:"SFMono-Regular, Consolas, 'Liberation Mono', Menlo, Courier, monospace"}})}),G=function(e){var n=e.annotations;return n?r.a.createElement(l.Box,{bg:"red",p:1,my:2},r.a.createElement("ul",null,n.map(function(e){return r.a.createElement("li",null,e)}))):null},$=function(e){var n=e.data;return n.annotations?r.a.createElement(G,{annotations:n.annotations}):r.a.createElement(h.d,null,r.a.createElement(h.b,null,r.a.createElement(h.a,null,"JSON"),r.a.createElement(h.a,null,"Schema")),r.a.createElement(h.c,null,r.a.createElement(H,{source:n.body})),r.a.createElement(h.c,null,r.a.createElement(H,{source:n.schema,displayDataTypes:!1})))},K=function(e){var n=e.source,t=Object(a.useState)({}),o=Object(i.a)(t,2),c=o[0],u=o[1];return Object(a.useEffect)(function(){L(n).then(function(e){u(e)})},[n]),r.a.createElement(l.Box,{mr:[1,4]},r.a.createElement($,{data:c}))},Q=function(e){return q({dataStructure:z[e].dataStructure,mson:z[e].mson})},X=function(e,n){return n<=1?e-120:e/n-120/n},Y=function(){var e=v()().innerHeight,n=Object(a.useState)(0),t=Object(i.a)(n,2),o=t[0],c=t[1],u=Object(a.useState)(z[o].dataStructure),s=Object(i.a)(u,2),d=s[0],m=s[1],h=Object(a.useState)(z[o].mson),b=Object(i.a)(h,2),E=b[0],y=b[1],S=Object(a.useState)(Q(o)),j=Object(i.a)(S,2),x=j[0],k=j[1],A=Object(a.useState)(2),C=Object(i.a)(A,2),P=C[0],B=C[1],N=p()(function(e,n){var t=q({dataStructure:e,mson:n});k(t)},500,[d,E]),W=Object(i.a)(N,1)[0];Object(a.useEffect)(function(){W(d,E)});var D=function(){return B(P+1)},M=function(){return B(P-1)};return r.a.createElement(l.Flex,{flexWrap:"wrap",px:2,py:3},r.a.createElement(l.Box,{width:[1,.5,.4],px:3},r.a.createElement(w.a,{options:U,value:U[o],onChange:function(e){var n,t=e.value;return c(n=t),m(z[n].dataStructure),y(z[n].mson),void k(Q(n))}}),r.a.createElement(g.Accordion,{allowMultiple:!0,duration:0},r.a.createElement(g.AccordionItem,{title:"Data Structures",expanded:!0,onExpand:D,onClose:M},r.a.createElement(O,{code:d,onValueChange:function(e){return m(e)},height:X(e,P)})),r.a.createElement(g.AccordionItem,{title:"MSON",expanded:!0,onExpand:D,onClose:M},r.a.createElement(O,{code:E,onValueChange:function(e){return y(e)},height:X(e,P)})))),r.a.createElement(l.Box,{width:[1,.5,.6],px:2},r.a.createElement(l.Heading,{textAlign:"center",m:[3,1]},r.a.createElement(l.Link,{href:"https://github.com/apiaryio/mson",color:"white"},"MSON")," ","Playground"),r.a.createElement(K,{source:x})),r.a.createElement(f.a,{bannerColor:"#D71149",href:"https://github.com/bukalapak/mson-playground"}))},Z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(Y,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/mson-playground",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/mson-playground","/service-worker.js");Z?(function(e,n){fetch(e).then(function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):_(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):_(n,e)})}}()},73:function(e,n,t){e.exports=t(220)},78:function(e,n,t){}},[[73,1,2]]]);
//# sourceMappingURL=main.7a7795a7.chunk.js.map