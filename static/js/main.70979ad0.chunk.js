(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,n,t){},218:function(e,n,t){},221:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(17),c=t.n(o),i=(t(79),t(11)),u=t(61),s=t.n(u),l=t(10),d=t(62),p=t.n(d),m=t(63),f=t.n(m),h=t(14),g=t(29),b=t(64),v=t.n(b),w=t(65),E=t.n(w),y=t(30),S=t(66),j=t.n(S),x=t(67),O=t(35),k=(t(107),t(108),t(109),function(e){var n=e.code,t=void 0===n?"":n,a=e.onValueChange,o=e.height,c=void 0===o?350:o;return r.a.createElement(x.Scrollbars,{style:{height:c}},r.a.createElement(j.a,{value:t,onValueChange:a,highlight:function(e){return Object(O.highlight)(e,O.languages.markdown)},padding:10,className:"react-simple-code-editor"}))}),A=t(18),C=t.n(A),P=t(36),B=t(68),N=t.n(B),M=t(69),W=t.n(M),D=t(70),V=t.n(D),I=t(34),J=t.n(I),R=W.a.namespace().use(V.a).use(J.a);function T(e,n){return q.apply(this,arguments)}function q(){return(q=Object(P.a)(C.a.mark(function e(n,t){return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,a){N.a.parse(n,t,function(n,t){return n?a(n):e(t)})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var U=function(e){var n=e.dataStructure,t=e.mson;return"\n# GET /\n\n+ Response 200 (application/json)\n    + Attributes (object)\n        ".concat(function(e){return e.split("\n").map(function(e,n){return 0===n?e:" ".repeat(8)+e}).join("\n")}(t),"\n\n# Data Structures\n\n").concat(n,"\n  ")},L=function(){var e=Object(P.a)(C.a.mark(function e(n){var t,a,r,o,c,i;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(n);case 2:if(t=e.sent,a=R.fromRefract(t),0===(r=a.annotations.toValue()).length){e.next=7;break}return e.abrupt("return",{annotations:r});case 7:if(o=a.api.resources.get(0)){e.next=10;break}return e.abrupt("return",{});case 10:return c=o.transitions.get(0).transactions.get(0).response.messageBody.toValue(),i=o.transitions.get(0).transactions.get(0).response.messageBodySchema.toValue(),e.abrupt("return",{body:JSON.parse(c),schema:JSON.parse(i)});case 13:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),z=[{label:"Example #1",dataStructure:"\n## Person A\n\n+ name: `Jack` (string, required)\n+ age: 54 (number)\n\n## Person B\n\n+ name: `Mark` (string, required)\n+ age: 34 (number)\n+ partners (array, fixed-type)\n  + (object)\n      + Include Person A\n  ",mson:"\n+ people (array, fixed-type, required)\n  + (object)\n      + Include Person A\n  + (object)\n      + Include Person B\n  "},{label:"Example #2",dataStructure:"",mson:"\n+ say (object, required)\n  + hello: `world!` (string, required)\n  "},{label:"Example #3",dataStructure:"\n# Address (object)\n\nDescription is here! Properties to follow.\n\n## Properties\n\n- street\n- state\n- zip\n  ",mson:"\n- address (Address)\n  "}],F=z.map(function(e,n){return{label:e.label,value:n}}),H=z;t(218);y.a.initialize("UA-155250238-1",{debug:!0}),y.a.pageview(window.location.pathname+window.location.search);var G=function(e){var n=e.source,t=e.displayDataTypes,a=void 0!==t&&t;return r.a.createElement(s.a,{src:n,enableClipboard:!1,name:!1,theme:"monokai",displayDataTypes:a,style:{fontSize:14,fontFamily:"SFMono-Regular, Consolas, 'Liberation Mono', Menlo, Courier, monospace"}})},$=function(e){var n=e.annotations;return n?r.a.createElement(l.Box,{bg:"red",p:1,my:2},r.a.createElement("ul",null,n.map(function(e){return r.a.createElement("li",null,e)}))):null},K=function(e){var n=e.data;return n.annotations?r.a.createElement($,{annotations:n.annotations}):r.a.createElement(h.d,null,r.a.createElement(h.b,null,r.a.createElement(h.a,null,"JSON"),r.a.createElement(h.a,null,"Schema")),r.a.createElement(h.c,null,r.a.createElement(G,{source:n.body})),r.a.createElement(h.c,null,r.a.createElement(G,{source:n.schema,displayDataTypes:!1})))},Q=function(e){var n=e.source,t=Object(a.useState)({}),o=Object(i.a)(t,2),c=o[0],u=o[1];return Object(a.useEffect)(function(){L(n).then(function(e){u(e)})},[n]),r.a.createElement(l.Box,{mr:[1,4]},r.a.createElement(K,{data:c}))},X=function(e){return U({dataStructure:H[e].dataStructure,mson:H[e].mson})},Y=function(e,n){return n<=1?e-120:e/n-120/n},Z=function(){var e=v()().innerHeight,n=Object(a.useState)(0),t=Object(i.a)(n,2),o=t[0],c=t[1],u=Object(a.useState)(H[o].dataStructure),s=Object(i.a)(u,2),d=s[0],m=s[1],h=Object(a.useState)(H[o].mson),b=Object(i.a)(h,2),w=b[0],S=b[1],j=Object(a.useState)(X(o)),x=Object(i.a)(j,2),O=x[0],A=x[1],C=Object(a.useState)(2),P=Object(i.a)(C,2),B=P[0],N=P[1],M=p()(function(e,n){var t=U({dataStructure:e,mson:n});A(t),y.a.event({category:"Edit MSON",action:"User edited MSON code in code editor"})},500,[d,w]),W=Object(i.a)(M,1)[0];Object(a.useEffect)(function(){W(d,w)});var D=function(){return N(B+1)},V=function(){return N(B-1)};return r.a.createElement(l.Flex,{flexWrap:"wrap",px:2,py:3},r.a.createElement(l.Box,{width:[1,.5,.4],px:3},r.a.createElement(E.a,{options:F,value:F[o],onChange:function(e){var n,t=e.value;return c(n=t),m(H[n].dataStructure),S(H[n].mson),void A(X(n))}}),r.a.createElement(g.Accordion,{allowMultiple:!0,duration:0},r.a.createElement(g.AccordionItem,{title:"Data Structures",expanded:!0,onExpand:D,onClose:V},r.a.createElement(k,{code:d,onValueChange:function(e){return m(e)},height:Y(e,B)})),r.a.createElement(g.AccordionItem,{title:"MSON",expanded:!0,onExpand:D,onClose:V},r.a.createElement(k,{code:w,onValueChange:function(e){return S(e)},height:Y(e,B)})))),r.a.createElement(l.Box,{width:[1,.5,.6],px:2},r.a.createElement(l.Heading,{textAlign:"center",m:[3,1]},r.a.createElement(l.Link,{href:"https://github.com/apiaryio/mson",color:"white"},"MSON")," ","Playground"),r.a.createElement(Q,{source:O})),r.a.createElement(f.a,{bannerColor:"#D71149",href:"https://github.com/bukalapak/mson-playground"}))},_=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ee(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(Z,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/mson-playground",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/mson-playground","/service-worker.js");_?(function(e,n){fetch(e).then(function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ee(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):ee(n,e)})}}()},74:function(e,n,t){e.exports=t(221)},79:function(e,n,t){}},[[74,1,2]]]);
//# sourceMappingURL=main.70979ad0.chunk.js.map